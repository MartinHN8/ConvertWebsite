<!DOCTYPE html>
<meta charset="UTF-8">
<html>
	<head>
    	<title>My converting website!</title>
	</head>
	<body>
    	<h1>Hello there!</h1>
    	<input type="number" id="valueInput">

        </label>Choose a Unit:</label>
        <select id="initialUnitSelector">
            <option value="m2">m^2</option>
            <option value="dm2">dm^2</option>
            <option value="cm2">cm^2</option>
            <option value="mm2">mm^2</option>
        </select>

        <p>How many?</p>
        <select id="targetUnitSelector">
            <option>Choose type</option>
        </select>
        
    	<p>Press when ready:</p>
    	<input type="button" value="Convert" onclick="readConvertWrite()">

    	<p id=finalValue></p>

    	<script type="text/javascript">

    		const values = 
    		[
    			{name: "Football fields", value: 6_000, unitName: "footballField"},
    			{name: "Central Parks", value: 3_410_000, unitName: "centralPark"},
    			{name: "Queen size beds", value: 2.8, unitName: "queenSizeBed"},
    		];

    		const SIConversionTable =
    		[
    			{unitName: "squareMilliMeter", factor: 1/1_000_000},
    			{unitName: "squareCentiMeter", factor: 1/10_000},
    			{unitName: "squareMeter", factor: 1},
    			{unitName: "squareKiloMeter", factor: 1_000_000},
    			{unitName: "squareFeet", factor: 0.09}
    		]

    		function convertToSI(value, unit)
    		{
    			for(var i = 0; i < SIConversionTable.length; i++)
    			{
    				if(SIConversionTable[i].unitName == unit)
    				{
    					return value * SIConversionTable[i].factor
    				} 
    			}
    		}

    		function convert(value, originalUnit, targetUnit)
    		{
    			for(var i = 0; i < values.length; i++)
    			{
    				if(values[i].unitName == targetUnit)
    				{
    					return convertToSI(value, originalUnit) / values[i].value;
    				}
    			}
    		}

    		function readConvertWrite()
    		{
    			var inputValue = document.getElementById("valueInput").value;
    			var initialUnit = document.getElementById("initialUnitSelector").value;
    			var targetUnit = document.getElementById("targetUnitSelector").value;

    			var newValue = convert(inputValue, initialUnit, targetUnit);

    			var finalParagraph = document.getElementById("finalValue");
    			finalParagraph.textContent =
    				": " +
    				inputValue + " is " +
    				newValue + " " +
    				targetUnit;
    		}

            var unitchooser = document.getElementById("targetUnitSelector");
            for (var i = 0; i < values.length; i++)
            {
                var elem = document.createElement("option");
                elem.textContent = values[i].name;
                elem.value = values[i].unitName;
                unitchooser.add(elem);
            }
    	</script>
	</body>
</html>
